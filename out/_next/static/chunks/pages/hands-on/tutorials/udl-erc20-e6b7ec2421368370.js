(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1024],{84669:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hands-on/tutorials/udl-erc20",function(){return s(57519)}])},57519:function(e,n,s){"use strict";s.r(n);var o=s(85893),r=s(4319),t=s(2840),i=s(29482);s(19966);var a=s(11151);function l(e){let n=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",pre:"pre",code:"code",span:"span",h3:"h3",ol:"ol",li:"li",ul:"ul"},(0,a.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{children:"Create an ERC20 profit-sharing token for NFTs with UDL"}),"\n",(0,o.jsxs)(n.p,{children:["In this tutorial, you will create a custom ERC20 token and use it to ",(0,o.jsx)(n.a,{href:"./udl-nft",children:"manage fractional ownership of NFTs"})," that have a ",(0,o.jsx)(n.a,{href:"https://arwiki.wiki/#/en/Universal-Data-License-How-to-use-it",children:"Universal Data License (UDL)"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"monetizing-udl",children:"Monetizing UDL"}),"\n",(0,o.jsxs)(n.p,{children:["Using the UDL, creators ",(0,o.jsx)(n.a,{href:"https://mirror.xyz/0x64eA438bd2784F2C52a9095Ec0F6158f847182d9/AjNBmiD4A4Sw-ouV9YtCO6RCq0uXXcGwVJMB5cdfbhE",children:"can define a set of rules"})," that clearly define how their content can be used and what fees are charged for different uses."]}),"\n",(0,o.jsx)(n.p,{children:"To charge a fee of 42 tokens, you’d add this tag:"}),"\n",(0,o.jsx)(n.pre,{"data-language":"json","data-theme":"default",hasCopyCode:!0,children:(0,o.jsx)(n.code,{"data-language":"json","data-theme":"default",children:(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{ "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"License-Fee"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"One-Time-42"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]})})}),"\n",(0,o.jsx)(n.p,{children:"To specify the Matic token, you’d add this tag:"}),"\n",(0,o.jsx)(n.pre,{"data-language":"json","data-theme":"default",hasCopyCode:!0,children:(0,o.jsx)(n.code,{"data-language":"json","data-theme":"default",children:(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{ "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Currency"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"MATIC"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]})})}),"\n",(0,o.jsx)(n.p,{children:"To specify that payments should be made to a given address, you’d add this tag:"}),"\n",(0,o.jsx)(n.pre,{"data-language":"json","data-theme":"default",hasCopyCode:!0,children:(0,o.jsx)(n.code,{"data-language":"json","data-theme":"default",children:(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{ "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Payment-Address"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"0xBundlooor"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]})})}),"\n",(0,o.jsxs)(n.p,{children:["However this only allows for a single owner, in cases where you want to have fractional ownership, you would attach a profit-sharing token (PST) contract to the UDL using the ",(0,o.jsx)(n.code,{children:"Contract"})," tag:"]}),"\n",(0,o.jsx)(n.pre,{"data-language":"json","data-theme":"default",hasCopyCode:!0,children:(0,o.jsx)(n.code,{"data-language":"json","data-theme":"default",children:(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{ "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Contract"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"0xFoo"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]})})}),"\n",(0,o.jsxs)(n.p,{children:["When the ",(0,o.jsx)(n.code,{children:"Contact"})," tag is present, you have to further define how payments should be distributed:"]}),"\n",(0,o.jsx)(n.p,{children:"Either setting it so that fees are split between all holders proportionally to their holdings:"}),"\n",(0,o.jsx)(n.pre,{"data-language":"json","data-theme":"default",hasCopyCode:!0,children:(0,o.jsx)(n.code,{"data-language":"json","data-theme":"default",children:(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{ "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Payment-Mode"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Global-Distribution"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]})})}),"\n",(0,o.jsx)(n.p,{children:"Or randomly distributed to one holder, with distribution weighted proportionally to holdings:"}),"\n",(0,o.jsx)(n.pre,{"data-language":"json","data-theme":"default",hasCopyCode:!0,children:(0,o.jsx)(n.code,{"data-language":"json","data-theme":"default",children:(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{ "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Payment-Mode"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Random-Distribution"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" }"})]})})}),"\n",(0,o.jsxs)(n.p,{children:["In this tutorial, we’ll write an ERC20 profit-sharing token contract. The contract will be set to either global or random distribution at creation and will expose a function called ",(0,o.jsx)(n.code,{children:"distributeRevenue()"})," which accepts payments and distributes it between holders. You can use the contract as is, or use its logic as a base for building your own contracts."]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.p,{children:["To complete this tutorial, you should have a ",(0,o.jsx)(n.a,{href:"https://mirror.xyz/0x64eA438bd2784F2C52a9095Ec0F6158f847182d9/AjNBmiD4A4Sw-ouV9YtCO6RCq0uXXcGwVJMB5cdfbhE",children:"basic understanding of the UDL"})," and the ",(0,o.jsx)(n.a,{href:"/learn/udl",children:"opportunities it affords builders"}),". You should understand the basics of Solidity but do not need to be an expert."]}),"\n",(0,o.jsx)(n.h2,{id:"the-smart-contract",children:"The smart contract"}),"\n",(0,o.jsxs)(n.p,{children:["Our contract, named ",(0,o.jsx)(n.code,{children:"MySong"}),", represents ownership in a single music NFT. This contract is an ERC20 token, and we've set its total supply to a fixed 100 tokens."]}),"\n",(0,o.jsx)(t.UW,{type:"info",emoji:"ℹ️",children:(0,o.jsx)(n.p,{children:"Having 100 tokens makes it easy to mentally model ownership amounts, as having 1 coin means you own 1% of the total.\nIn practice, the number of coins could be anything."})}),"\n",(0,o.jsx)(n.p,{children:"The majority of the contract is boilerplate ERC20, it mints 100 tokens to the contract deployer at creation, and through inheritance, it includes functions for transferring tokens between addresses."}),"\n",(0,o.jsxs)(n.p,{children:["In its constructor, the contract is set to either global or random mode, and then exposes a function called ",(0,o.jsx)(n.code,{children:"distributeRevenue()"}),", which splits revenue payments among token-holders. The function accepts payment in the form of ETH, then either does global or random distribution. To simplify things, this contract uses pseudo-random number generation which comes with an element of risk. When building your own solutions, you might choose to use a ",(0,o.jsx)(n.a,{href:"https://docs.chain.link/vrf/v2/introduction",children:"verifiable random number generator"}),"."]}),"\n",(0,o.jsx)(t.UW,{type:"info",emoji:"ℹ️",children:(0,o.jsx)(n.p,{children:"This is just one way revenue distribution could be handled, another way would be for the contract to hold all\npayments and let recipients claim them when it makes sense. This method would help save gas costs, as recipients\ncould choose to only take distributions when their balance is higher the gas fees."})}),"\n",(0,o.jsx)(n.pre,{"data-language":"solidity","data-theme":"default",hasCopyCode:!0,children:(0,o.jsxs)(n.code,{"data-language":"solidity","data-theme":"default",children:[(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// SPDX-License-Identifier: MIT"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"pragma"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"solidity"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ^0.8.9;"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"@openzeppelin/contracts/token/ERC20/ERC20.sol"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"@openzeppelin/contracts/access/Ownable.sol"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"@openzeppelin/contracts/utils/math/SafeMath.sol"'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"contract"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"MySong"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"is"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ERC20"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Ownable"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"using"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"SafeMath"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"enum"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"PaymentMode"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" { GLOBAL"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" RANDOM }"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    PaymentMode "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" paymentMode;"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"constructor"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"PaymentMode"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-parameter)"},children:"_paymentMode"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ERC20"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'("MySong", "MSG") {'})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_mint"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(msg.sender"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"100"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        paymentMode "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _paymentMode;"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"distributeRevenue"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"external"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"payable"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"onlyOwner"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" totalSupply "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"totalSupply"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"require"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(totalSupply "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"No tokens exist."'}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (paymentMode "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" PaymentMode.GLOBAL) {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_distributeGlobal"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        } "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (paymentMode "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" PaymentMode.RANDOM) {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_distributeRandom"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_distributeGlobal"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" i "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"; i "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders.length; i"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"++"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" holder "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders[i];"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" holderBalance "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"balanceOf"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(holder);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (holderBalance "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" amountToDistribute "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" msg.value."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"mul"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(holderBalance)."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"div"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"totalSupply"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"payable"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(holder)."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"transfer"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(amountToDistribute);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"	"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_distributeRandom"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"() "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" randomValue "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"keccak256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(abi."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"encodePacked"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(block.timestamp"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" msg.sender))) % "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"totalSupply"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" cumulativeSum "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"		"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" i "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"; i "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders.length; i"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"++"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" holder "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders[i];"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" holderBalance "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"balanceOf"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(holder);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"			cumulativeSum "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" cumulativeSum."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(holderBalance);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"			"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (randomValue "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" cumulativeSum) {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"				"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"payable"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(holder)."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"transfer"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(msg.value);"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"				"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"break"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"			}"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"		}"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"	}"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[] "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders;"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_beforeTokenTransfer"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" from"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" to"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" amount) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"internal"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"override"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        super."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_beforeTokenTransfer"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(from"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" to"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" amount);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (from "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")) {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_addHolder"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(to);"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        } "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (to "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")) {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_removeHolder"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(from);"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        } "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_addHolder"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(to);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_addHolder"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" newHolder) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"balanceOf"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(newHolder) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            _holders."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"push"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(newHolder);"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"_removeHolder"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"address"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" oldHolder) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"private"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"balanceOf"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(oldHolder) "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"uint256"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" i "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"; i "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders.length; i"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"++"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" (_holders[i] "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" oldHolder) {"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    _holders[i] "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" _holders[_holders.length "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    _holders."}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"pop"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"break"}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,o.jsx)(n.span,{className:"line",children:(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,o.jsxs)(n.span,{className:"line",children:[(0,o.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,o.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// MySong"})]}),"\n",(0,o.jsx)(n.span,{className:"line",children:" "})]})}),"\n",(0,o.jsx)(n.h2,{id:"testing-on-remix",children:"Testing on Remix"}),"\n",(0,o.jsx)(n.p,{children:"To understand how token works, let’s test it in the Remix IDE."}),"\n",(0,o.jsx)(n.h3,{id:"deploying-the-contract",children:"Deploying the contract"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Launch ",(0,o.jsx)(n.a,{href:"https://remix.ethereum.org",children:"Remix"})]}),"\n",(0,o.jsx)(n.li,{children:'Select Environment: In the left sidebar, under the "Deploy & run transactions" tab, ensure "Remix VM (Shanghai)" is selected as the environment.'}),"\n",(0,o.jsxs)(n.li,{children:["Paste the Contract: In the “File explorer” tab click the + icon to create a new file. Name it ",(0,o.jsx)(n.code,{children:"MySong.sol"})," and paste in the MySong contract code."]}),"\n",(0,o.jsx)(n.li,{children:'Compile the Contract: In the left sidebar, click on the "Solidity compiler" tab, then click the "Compile MySong.sol" button.'}),"\n",(0,o.jsxs)(n.li,{children:['Deploy: Go back to the "Deploy & run transactions" tab. MySong should be selected in the "Contract" dropdown. Click the orange "Deploy" button and either enter ',(0,o.jsx)(n.code,{children:"0"})," for global distribution or ",(0,o.jsx)(n.code,{children:"1"})," for random distribution."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"transferring-tokens",children:"Transferring tokens"}),"\n",(0,o.jsx)(n.p,{children:'Once the contract is deployed, under "Deployed Contracts", find MySong. You\'ll see buttons representing contract functions. To transfer tokens:'}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Click the transfer function."}),"\n",(0,o.jsx)(n.li,{children:'Enter the recipient address in the "to" field (choose from the "Account" dropdown at the top of the page)'}),"\n",(0,o.jsxs)(n.li,{children:['Specify the number of tokens to send in the "value" field (',"<="," 100)"]}),"\n",(0,o.jsx)(n.li,{children:"Click the transact button."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"sending-revenue",children:"Sending revenue"}),"\n",(0,o.jsx)(n.p,{children:"Once you’ve distributed tokens between holders, test revenue distribution."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:'In the "Deploy & run transactions" tab, above to the "Deploy" button, there\'s a field labeled "Value". Enter the amount of Ether you want to distribute as revenue.'}),"\n",(0,o.jsxs)(n.li,{children:['n the "Deployed Contracts" section, find ',(0,o.jsx)(n.code,{children:"MySong"})," and click the ",(0,o.jsx)(n.code,{children:"distributeRevenue()"})," function."]}),"\n",(0,o.jsx)(n.li,{children:"Click the transact button."}),"\n",(0,o.jsx)(n.li,{children:'Check Balances: After distributing revenue, you can switch between accounts in the "Account" dropdown at the top to see how the Ether balance of each account has changed.'}),"\n"]}),"\n",(0,o.jsxs)(n.h2,{id:"contract-tag",children:[(0,o.jsx)(n.code,{children:"Contract"})," tag"]}),"\n",(0,o.jsxs)(n.p,{children:["After creating and deploying the contract, fork the ",(0,o.jsx)(n.a,{href:"/developer-docs/provenance-toolkit",children:"Irys Provenance Toolkit"})," and use the Irys UDL Uploader to upload a new asset while setting the ",(0,o.jsx)(n.code,{children:"Contract"})," tag to be the address of the smart contract you just deployed. This pairs the UDL-protected asset with the smart contract, establishing a payment management rule for platforms."]}),"\n",(0,o.jsx)(n.h2,{id:"alternatives",children:"Alternatives"}),"\n",(0,o.jsxs)(n.p,{children:["While creating a custom ERC20 and attaching it to the NFT’s UDL via the ",(0,o.jsx)(n.code,{children:"Contract"})," tag works fine, it has one possible downside that the ERC20 needs to be created before the NFT. You create the ERC20 contract and then attach the contract address to the NFT’s UDL. In cases where you have an existing NFT with UDL, and want to layer on fractional ownership afterwards, you will need an alternative approach, ",(0,o.jsx)(n.a,{href:"https://github.com/fractional-company/contracts",children:"like the one implemented in this repository"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"extending",children:"Extending"}),"\n",(0,o.jsx)(n.p,{children:"Using an ERC20 token to model ownership of a UDL asset opens up new ideas for builders including:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Creating a DEX that focuses on trading the tokens, where the market cap of the token represents the value placed on the UDL NFT."}),"\n",(0,o.jsx)(n.li,{children:"Creating a lending platform that uses the tokens as collateral. The platform could base the loan amount on the artist’s historical sales data."}),"\n",(0,o.jsx)(n.li,{children:"Gifting long-term token holders with tokens from new creations."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The UDL's strength lies in its parametrized rules without preset enforcement. As builders, you have the freedom to craft tools that uphold these rules and also innovate beyond them."}),"\n",(0,o.jsx)(n.p,{children:"What will you build?"})]})}s(25675);let c={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)},pageOpts:{filePath:"pages/hands-on/tutorials/udl-erc20.mdx",route:"/hands-on/tutorials/udl-erc20",frontMatter:{description:"Create an ERC20 profit-sharing token for NFTs with UDL"},headings:[{depth:1,value:"Create an ERC20 profit-sharing token for NFTs with UDL",id:"create-an-erc20-profit-sharing-token-for-nfts-with-udl"},{depth:2,value:"Monetizing UDL",id:"monetizing-udl"},{depth:2,value:"Prerequisites",id:"prerequisites"},{depth:2,value:"The smart contract",id:"the-smart-contract"},{depth:2,value:"Testing on Remix",id:"testing-on-remix"},{depth:3,value:"Deploying the contract",id:"deploying-the-contract"},{depth:3,value:"Transferring tokens",id:"transferring-tokens"},{depth:2,value:"Sending revenue",id:"sending-revenue"},{depth:2,value:"Contract tag",id:"contract-tag"},{depth:2,value:"Alternatives",id:"alternatives"},{depth:2,value:"Extending",id:"extending"}],timestamp:169591009e4,pageMap:[{kind:"MdxPage",name:"404",route:"/404"},{kind:"Meta",data:{404:{display:"hidden",type:"page",theme:{layout:"raw"},title:"404"},index:{display:"hidden",type:"page",theme:{layout:"raw"},title:"Docs"},test:{display:"hidden"},test2:{display:"hidden"},overview:"OVERVIEW","developer-docs":"DEVELOPER DOCS","hands-on":"HANDS ON",learn:"IRYS 101",terminology:"TERMINOLOGY",faqs:"FAQs",twitter:{title:"Twitter",href:"https://twitter.irys.xyz",newWindow:!0,type:"page"},Discord:{title:"Discord",href:"https://discord.irys.xyz",newWindow:!0,type:"page"},Youtube:{title:"YouTube",href:"https://youtube.irys.xyz",newWindow:!0,type:"page"}}},{kind:"Folder",name:"developer-docs",route:"/developer-docs",children:[{kind:"Meta",data:{"irys-sdk":"Irys SDK",querying:"Querying",cli:"CLI","provenance-toolkit":"Provenance Toolkit","using-devnet":"Using Devnet",tags:"Tags","mutable-references":"Mutable references",downloading:"Downloading"}},{kind:"Folder",name:"cli",route:"/developer-docs/cli",children:[{kind:"Meta",data:{installation:"Installation",commands:"Commands"}},{kind:"Folder",name:"commands",route:"/developer-docs/cli/commands",children:[{kind:"Meta",data:{balance:"balance",price:"price",fund:"fund",withdraw:"withdraw",upload:"upload","upload-dir":"upload-dir"}},{kind:"MdxPage",name:"balance",route:"/developer-docs/cli/commands/balance",frontMatter:{description:"Funds the node with the specified amount of tokens."}},{kind:"MdxPage",name:"fund",route:"/developer-docs/cli/commands/fund",frontMatter:{description:"Funds the node with the specified amount of tokens."}},{kind:"MdxPage",name:"price",route:"/developer-docs/cli/commands/price",frontMatter:{description:"Funds the node with the specified amount of tokens."}},{kind:"MdxPage",name:"upload-dir",route:"/developer-docs/cli/commands/upload-dir",frontMatter:{description:"Funds the node with the specified amount of tokens."}},{kind:"MdxPage",name:"upload",route:"/developer-docs/cli/commands/upload",frontMatter:{description:"Funds the node with the specified amount of tokens."}},{kind:"MdxPage",name:"withdraw",route:"/developer-docs/cli/commands/withdraw",frontMatter:{description:"Funds the node with the specified amount of tokens."}}]},{kind:"MdxPage",name:"installation",route:"/developer-docs/cli/installation",frontMatter:{description:"Install using npm, optionally sudo."}}]},{kind:"MdxPage",name:"cli",route:"/developer-docs/cli",frontMatter:{description:"Use Irys from your CLI"}},{kind:"MdxPage",name:"downloading",route:"/developer-docs/downloading",frontMatter:{description:"Instantly downloading data from a network of gateways"}},{kind:"Folder",name:"irys-sdk",route:"/developer-docs/irys-sdk",children:[{kind:"Meta",data:{"installing-the-sdk":"Installing the SDK",troubleshooting:"Troubleshooting","community-sdk":"Community SDKs","migration-guide":"Migration guide","irys-in-the-browser":"Irys in the browser",api:"API Docs","chunked-uploader":"Chunked uploader","ipfs-cid":"Using IPFS CIDs","manual-transaction":"Manually creating a Tx"}},{kind:"Folder",name:"api",route:"/developer-docs/irys-sdk/api",children:[{kind:"Meta",data:{fund:"fund()",withdrawBalance:"withdrawBalance()",getLoadedBalance:"getLoadedBalance()",getPrice:"getPrice()",upload:"upload()",uploadFile:"uploadFile()",uploadFolder:"uploadFolder()","utils-toAtomic":"utils.toAtomic()","utils-fromAtomic":"utils.fromAtomic()","utils-getReceipt":"utils.getReceipt()","utils-verifyReceipt":"utils.verifyReceipt()","funder-submitFundTransaction":"funder.submitFundTransaction()","uploader-uploadBundle":"uploader.uploadBundle()","uploader-generateManifest":"uploader.generateManifest()"}},{kind:"MdxPage",name:"fund",route:"/developer-docs/irys-sdk/api/fund",frontMatter:{description:"Funds the node with the specified amount of tokens"}},{kind:"MdxPage",name:"funder-submitFundTransaction",route:"/developer-docs/irys-sdk/api/funder-submitFundTransaction",frontMatter:{description:"Returns the receipt associated with the supplied transaction id"}},{kind:"MdxPage",name:"getLoadedBalance",route:"/developer-docs/irys-sdk/api/getLoadedBalance",frontMatter:{description:"Returns the connected wallet's balance on the connected node"}},{kind:"MdxPage",name:"getPrice",route:"/developer-docs/irys-sdk/api/getPrice",frontMatter:{description:"Returns the cost to upload the specified number of bytes"}},{kind:"MdxPage",name:"upload",route:"/developer-docs/irys-sdk/api/upload",frontMatter:{description:"Uploads data"}},{kind:"MdxPage",name:"uploadFile",route:"/developer-docs/irys-sdk/api/uploadFile",frontMatter:{description:"Uploads a file"}},{kind:"MdxPage",name:"uploadFolder",route:"/developer-docs/irys-sdk/api/uploadFolder",frontMatter:{description:"Uploads a folder of files to Irys"}},{kind:"MdxPage",name:"uploader-uploadBundle",route:"/developer-docs/irys-sdk/api/uploader-uploadBundle",frontMatter:{description:"Uploads an array of transactions as a bundle"}},{kind:"MdxPage",name:"utils-fromAtomic",route:"/developer-docs/irys-sdk/api/utils-fromAtomic",frontMatter:{description:"Converts from atomic to standard units"}},{kind:"MdxPage",name:"utils-getReceipt",route:"/developer-docs/irys-sdk/api/utils-getReceipt",frontMatter:{description:"Returns the receipt associated with the supplied transaction id"}},{kind:"MdxPage",name:"utils-toAtomic",route:"/developer-docs/irys-sdk/api/utils-toAtomic",frontMatter:{description:"Converts from standard to atomic units"}},{kind:"MdxPage",name:"utils-verifyReceipt",route:"/developer-docs/irys-sdk/api/utils-verifyReceipt",frontMatter:{description:"Returns the receipt associated with the supplied transaction id"}},{kind:"MdxPage",name:"withdrawBalance",route:"/developer-docs/irys-sdk/api/withdrawBalance",frontMatter:{description:"Withdraws the supplied amount"}}]},{kind:"Folder",name:"chunked-uploader",route:"/developer-docs/irys-sdk/chunked-uploader",children:[{kind:"Meta",data:{"connecting-node":"Conecting to a node","setting-upload-parameters":"Upload parameters","data-mode":"Data mode","transaction-mode":"Transaction mode","controlling-the-upload":"Controlling the upload","expired-uploads":"Expired uploads","upload-events":"Upload events"}},{kind:"MdxPage",name:"connecting-node",route:"/developer-docs/irys-sdk/chunked-uploader/connecting-node",frontMatter:{description:"Sample code for connecting to a node"}},{kind:"MdxPage",name:"controlling-the-upload",route:"/developer-docs/irys-sdk/chunked-uploader/controlling-the-upload",frontMatter:{description:"Pausing and resuming uploads"}},{kind:"MdxPage",name:"data-mode",route:"/developer-docs/irys-sdk/chunked-uploader/data-mode",frontMatter:{description:"Automate transaction creation in data mode"}},{kind:"MdxPage",name:"expired-uploads",route:"/developer-docs/irys-sdk/chunked-uploader/expired-uploads",frontMatter:{description:"Recovering expired uploads"}},{kind:"MdxPage",name:"setting-upload-parameters",route:"/developer-docs/irys-sdk/chunked-uploader/setting-upload-parameters",frontMatter:{description:"Changing batch and chunk size"}},{kind:"MdxPage",name:"transaction-mode",route:"/developer-docs/irys-sdk/chunked-uploader/transaction-mode",frontMatter:{description:"Access fine-grained control over transactions"}},{kind:"MdxPage",name:"upload-events",route:"/developer-docs/irys-sdk/chunked-uploader/upload-events",frontMatter:{description:"Track upload progress with event callbacks"}}]},{kind:"MdxPage",name:"chunked-uploader",route:"/developer-docs/irys-sdk/chunked-uploader",frontMatter:{description:"A fault-tolerant, resumable, signer & uploader"}},{kind:"MdxPage",name:"community-sdk",route:"/developer-docs/irys-sdk/community-sdk",frontMatter:{description:"Use Golang, and other languages, with Irys"}},{kind:"MdxPage",name:"installing-the-sdk",route:"/developer-docs/irys-sdk/installing-the-sdk",frontMatter:{description:"Installing the SDK with Npm and Yarn"}},{kind:"MdxPage",name:"ipfs-cid",route:"/developer-docs/irys-sdk/ipfs-cid",frontMatter:{description:null}},{kind:"MdxPage",name:"irys-in-the-browser",route:"/developer-docs/irys-sdk/irys-in-the-browser",frontMatter:{description:"Using the WebIrys class to interact with Irys from the browser"}},{kind:"MdxPage",name:"manual-transaction",route:"/developer-docs/irys-sdk/manual-transaction",frontMatter:{description:"Manually creating, signing and uploading a transaction."}},{kind:"MdxPage",name:"migration-guide",route:"/developer-docs/irys-sdk/migration-guide",frontMatter:{description:"Migrating from Bundlr SDK to Irys SDK"}},{kind:"MdxPage",name:"troubleshooting",route:"/developer-docs/irys-sdk/troubleshooting",frontMatter:{description:"Troubleshooting common problems"}}]},{kind:"MdxPage",name:"irys-sdk",route:"/developer-docs/irys-sdk",frontMatter:{description:"Quickstart with the Irys SDK"}},{kind:"MdxPage",name:"mutable-references",route:"/developer-docs/mutable-references",frontMatter:{description:"Mutable references enable the creation of a single, static URL that is linked to a sequential series of transactions."}},{kind:"Folder",name:"provenance-toolkit",route:"/developer-docs/provenance-toolkit",children:[{kind:"Meta",data:{"fund-withdraw":"Fund / withdraw",uploader:"Uploader","progress-bar-uploader":"Progress bar uploader","udl-uploader":"UDL uploader","encrypted-uploader":"Encrypted uploader","solana-nft-minter":"Solana NFT minter","gasless-uploader":"Gasless uploader","transaction-feed":"Transaction feed"}},{kind:"MdxPage",name:"encrypted-uploader",route:"/developer-docs/provenance-toolkit/encrypted-uploader",frontMatter:{description:"UI component to encrypt files before uploading to Irys"}},{kind:"MdxPage",name:"fund-withdraw",route:"/developer-docs/provenance-toolkit/fund-withdraw",frontMatter:{description:"UI component to manage funding and withdrawing node balances"}},{kind:"MdxPage",name:"gasless-uploader",route:"/developer-docs/provenance-toolkit/gasless-uploader",frontMatter:{description:"UI component to upload single files or groups of files"}},{kind:"MdxPage",name:"progress-bar-uploader",route:"/developer-docs/provenance-toolkit/progress-bar-uploader",frontMatter:{description:"UI component to manage funding and withdrawing node balances"}},{kind:"MdxPage",name:"solana-nft-minter",route:"/developer-docs/provenance-toolkit/solana-nft-minter",frontMatter:{description:"UI component to upload single files or groups of files"}},{kind:"MdxPage",name:"transaction-feed",route:"/developer-docs/provenance-toolkit/transaction-feed",frontMatter:{description:"UI component to query transaction metadata"}},{kind:"MdxPage",name:"udl-uploader",route:"/developer-docs/provenance-toolkit/udl-uploader",frontMatter:{description:"UI component to manage funding and withdrawing node balances"}},{kind:"MdxPage",name:"uploader",route:"/developer-docs/provenance-toolkit/uploader",frontMatter:{description:"UI component to upload single files or groups of files"}}]},{kind:"MdxPage",name:"provenance-toolkit",route:"/developer-docs/provenance-toolkit",frontMatter:{description:"A collection of UI components to help kickstart your next project."}},{kind:"Folder",name:"querying",route:"/developer-docs/querying",children:[{kind:"Meta",data:{"query-package":"Query package",api:"API docs",graphql:"GraphQL"}},{kind:"Folder",name:"api",route:"/developer-docs/querying/api",children:[{kind:"Meta",data:{search:"search()",fromTimestamp:"fromTimestamp()",toTimestamp:"toTimestamp()",tags:"tags()",ids:"ids()",from:"from()",to:"to()",token:"token()",minHeight:"minHeight()",maxHeight:"maxHeight()",sort:"sort()",limit:"limit()",stream:"stream()",fields:"fields()"}},{kind:"MdxPage",name:"fields",route:"/developer-docs/querying/api/fields",frontMatter:{description:"Limit fields returned when searching Irys and Arweave"}},{kind:"MdxPage",name:"from",route:"/developer-docs/querying/api/from",frontMatter:{description:"Searches by the wallet addresses used when signing and paying for the upload"}},{kind:"MdxPage",name:"fromTimestamp",route:"/developer-docs/querying/api/fromTimestamp",frontMatter:{description:"Searches Arweave based on block height"}},{kind:"MdxPage",name:"ids",route:"/developer-docs/querying/api/ids",frontMatter:{description:"Searches either by transaction ID or block ID"}},{kind:"MdxPage",name:"limit",route:"/developer-docs/querying/api/limit",frontMatter:{description:"Limits the maximum number of results returned."}},{kind:"MdxPage",name:"maxHeight",route:"/developer-docs/querying/api/maxHeight",frontMatter:{description:"Searches Arweave based on block height"}},{kind:"MdxPage",name:"minHeight",route:"/developer-docs/querying/api/minHeight",frontMatter:{description:"Searches Arweave based on block height"}},{kind:"MdxPage",name:"search",route:"/developer-docs/querying/api/search",frontMatter:{description:"Sets the search location (Irys or Arweave)."}},{kind:"MdxPage",name:"sort",route:"/developer-docs/querying/api/sort",frontMatter:{description:"Sorts search results by timestamp"}},{kind:"MdxPage",name:"stream",route:"/developer-docs/querying/api/stream",frontMatter:{description:"Returns an iterable stream that continuously yields results"}},{kind:"MdxPage",name:"tags",route:"/developer-docs/querying/api/tags",frontMatter:{description:"Searches Irys or Arweave via tags"}},{kind:"MdxPage",name:"to",route:"/developer-docs/querying/api/to",frontMatter:{description:"Searches by the wallet addresses"}},{kind:"MdxPage",name:"toTimestamp",route:"/developer-docs/querying/api/toTimestamp",frontMatter:{description:"Searches Arweave based on block height"}},{kind:"MdxPage",name:"token",route:"/developer-docs/querying/api/token",frontMatter:{description:"Searches by token used for payment"}}]},{kind:"MdxPage",name:"graphql",route:"/developer-docs/querying/graphql",frontMatter:{description:"Searching Irys using GraphQL"}},{kind:"MdxPage",name:"query-package",route:"/developer-docs/querying/query-package",frontMatter:{description:"Search Irys and Arweave with this JavaScript package"}}]},{kind:"MdxPage",name:"querying",route:"/developer-docs/querying",frontMatter:{description:"Search Irys and Arweave"}},{kind:"MdxPage",name:"tags",route:"/developer-docs/tags",frontMatter:{description:"Tagging uploads with custom metadata."}},{kind:"MdxPage",name:"using-devnet",route:"/developer-docs/using-devnet",frontMatter:{description:"Build and prototype your application on Irys' Devnet"}}]},{kind:"Folder",name:"faqs",route:"/faqs",children:[{kind:"Meta",data:{"general-faq":"General FAQ","dev-faq":"Developer FAQ"}},{kind:"MdxPage",name:"dev-faq",route:"/faqs/dev-faq",frontMatter:{description:"Frequently asked questions from our developer community."}},{kind:"MdxPage",name:"general-faq",route:"/faqs/general-faq",frontMatter:{description:"Frequently asked questions about Irys."}}]},{kind:"Folder",name:"hands-on",route:"/hands-on",children:[{kind:"Meta",data:{tutorials:"Tutorials",quests:"Quests"}},{kind:"Folder",name:"quests",route:"/hands-on/quests",children:[{kind:"Meta",data:{}}]},{kind:"MdxPage",name:"quests",route:"/hands-on/quests",frontMatter:{description:"Join a global community of over 40,000 developers building on Irys."}},{kind:"Folder",name:"tutorials",route:"/hands-on/tutorials",children:[{kind:"Meta",data:{react:"Using npx-create-react-app",cite:"Using React + Vite","irys-sdk":"Learn the Irys SDK","monitor-node-balance":"Monitor node balance","uploading-static-sites":"Upload a static website",livepeer:"Transcode video with Livepeer","irys-explorer":"Transaction explorer","gassless-uploading":"Gasless uploading","uploading-nfts":"Upload NFT assets",metaplex:"Solana NFTs with Metaplex","udl-erc20":"Manage UDL ownership with ERC20","udl-nft":"NFT licensing and UDL","dynamic-nft":"Build a dynamic NFT",lens:"Upload Lens metadata","encrypting-on-chain-data":"Encrypting on-chain data","server-side-encryption":"Encrypting data server-side","browser-based-encryption":"Encrypting data in the browser","encrypting-onchain-data":"Encrypting Onchain Data","gasless-uploading":"Gasless Uploading",vite:"Vite"}},{kind:"MdxPage",name:"browser-based-encryption",route:"/hands-on/tutorials/browser-based-encryption",frontMatter:{description:"How to encrypt data before storing onchain (browser-based edition)"}},{kind:"MdxPage",name:"dynamic-nft",route:"/hands-on/tutorials/dynamic-nft",frontMatter:{description:"Learn how to create a dynamic NFT using mutable references."}},{kind:"MdxPage",name:"encrypting-onchain-data",route:"/hands-on/tutorials/encrypting-onchain-data",frontMatter:{description:"Using Lit Protocol to encrypt on-hain data with Irys and Arweave"}},{kind:"MdxPage",name:"gasless-uploading",route:"/hands-on/tutorials/gasless-uploading",frontMatter:{description:"Using Server-Side signing to implement gasless transactions."}},{kind:"MdxPage",name:"irys-explorer",route:"/hands-on/tutorials/irys-explorer",frontMatter:{description:"Learn how to attach a UDL to an NFT"}},{kind:"MdxPage",name:"irys-sdk",route:"/hands-on/tutorials/irys-sdk",frontMatter:{description:"Everything you need to start building with Irys + NodeJS"}},{kind:"MdxPage",name:"lens",route:"/hands-on/tutorials/lens",frontMatter:{description:"Uploading Lens metadata using Irys"}},{kind:"MdxPage",name:"livepeer",route:"/hands-on/tutorials/livepeer",frontMatter:{description:"Using Livepeer to transcode video stored on Arweave"}},{kind:"MdxPage",name:"metaplex",route:"/hands-on/tutorials/metaplex",frontMatter:{description:"Build a Solana NFT Marketplace With Metaplex"}},{kind:"MdxPage",name:"monitor-node-balance",route:"/hands-on/tutorials/monitor-node-balance",frontMatter:{description:"Monitor your node balance using JavaScript, our CLI, or cURL"}},{kind:"MdxPage",name:"react",route:"/hands-on/tutorials/react",frontMatter:{description:"Using the Irys SDK with create-react-app."}},{kind:"MdxPage",name:"server-side-encryption",route:"/hands-on/tutorials/server-side-encryption",frontMatter:{description:"How to encrypt data before storing onchain (server-side edition)"}},{kind:"MdxPage",name:"udl-erc20",route:"/hands-on/tutorials/udl-erc20",frontMatter:{description:"Create an ERC20 profit-sharing token for NFTs with UDL"}},{kind:"MdxPage",name:"udl-nft",route:"/hands-on/tutorials/udl-nft",frontMatter:{description:"Learn how to attach a UDL to an NFT"}},{kind:"MdxPage",name:"uploading-nfts",route:"/hands-on/tutorials/uploading-nfts",frontMatter:{description:"How to upload NFT assets to Irys"}},{kind:"MdxPage",name:"uploading-static-sites",route:"/hands-on/tutorials/uploading-static-sites",frontMatter:{description:"How to upload a static website to the permaweb using Irys"}},{kind:"MdxPage",name:"vite",route:"/hands-on/tutorials/vite",frontMatter:{description:"Using the Irys SDK with create-react-app and Vite."}}]},{kind:"MdxPage",name:"tutorials",route:"/hands-on/tutorials",frontMatter:{description:"Roll up your sleeves and start building on Irys"}}]},{kind:"MdxPage",name:"index",route:"/",frontMatter:{title:"Docs",description:"Unlock the full potential of Irys’ technology with our developer resources. Start building on Irys today!"}},{kind:"Folder",name:"learn",route:"/learn",children:[{kind:"Meta",data:{"strong-provenance":"Strong provenance",bundles:"Bundles",bundling:"Bundling",receipts:"Receipts","optimistic-cache":"Optimistic cache","funding-withdrawing":"Funding & withdrawing","transaction-lifecycle":"Transaction lifecycle","irys-arweave":"Irys & Arweave","volumetric-scaling":"Volumetric scaling",udl:"UDL and builders"}},{kind:"MdxPage",name:"bundles",route:"/learn/bundles",frontMatter:{description:"Bundles are the data structure used to post data from Irys to Arweave."}},{kind:"MdxPage",name:"bundling",route:"/learn/bundling",frontMatter:{description:"Bundling helps Arweave scale"}},{kind:"MdxPage",name:"funding-withdrawing",route:"/learn/funding-withdrawing",frontMatter:{description:"Understand what happens each step of the way when transferring tokens to or from a node."}},{kind:"MdxPage",name:"irys-arweave",route:"/learn/irys-arweave",frontMatter:{description:"Irys handles 90% of all traffic on Arweave."}},{kind:"MdxPage",name:"optimistic-cache",route:"/learn/optimistic-cache",frontMatter:{description:"Optimistic caching makes your uploads instantly available"}},{kind:"MdxPage",name:"receipts",route:"/learn/receipts",frontMatter:{description:"Signed receipts provide unrefutable proof of time"}},{kind:"MdxPage",name:"strong-provenance",route:"/learn/strong-provenance",frontMatter:{description:"Data on Irys has strong provenance, it's permanent, precise and unconstrained"}},{kind:"MdxPage",name:"transaction-lifecycle",route:"/learn/transaction-lifecycle",frontMatter:{description:"Understand each step of the process as a transaction is processed by Irys."}},{kind:"MdxPage",name:"udl",route:"/learn/udl",frontMatter:{description:"UDL opportunities for builders"}},{kind:"MdxPage",name:"volumetric-scaling",route:"/learn/volumetric-scaling",frontMatter:{description:"Irys’ scaling is volumetric because it can independently scale across three vectors - writing, reading, and verification."}}]},{kind:"Folder",name:"overview",route:"/overview",children:[{kind:"Meta",data:{about:"About Irys",tools:"Tools",nodes:"Nodes",gateways:"Gateways","permanent-data":"Permanent data",ordering:"Ordering","querying-tagging":"Querying & tagging",fees:{display:"hidden",title:"Fees"},"cost-to-upload":"Cost to upload","supported-tokens":"Supported tokens"}},{kind:"MdxPage",name:"about",route:"/overview/about",frontMatter:{description:"Unlock the full potential of Irys' technology with our developer resources."}},{kind:"MdxPage",name:"cost-to-upload",route:"/overview/cost-to-upload",frontMatter:{description:"Understand our dynamic fee structure."}},{kind:"MdxPage",name:"fees",route:"/overview/fees",frontMatter:{description:"Understand our dynamic fee structure."}},{kind:"MdxPage",name:"gateways",route:"/overview/gateways",frontMatter:{description:"Gateways are responsible for indexing and serving data."}},{kind:"MdxPage",name:"nodes",route:"/overview/nodes",frontMatter:{description:"URLs for Irys' 3 nodes"}},{kind:"MdxPage",name:"ordering",route:"/overview/ordering",frontMatter:{description:"Irys enables users to instantly sequence data with extreme precision."}},{kind:"MdxPage",name:"permanent-data",route:"/overview/permanent-data",frontMatter:{description:"Permanence guarantees your data can be retrieved at any point in the future."}},{kind:"MdxPage",name:"querying-tagging",route:"/overview/querying-tagging",frontMatter:{description:"Querying and tagging combine to allow you to build semi-relational data models"}},{kind:"MdxPage",name:"supported-tokens",route:"/overview/supported-tokens",frontMatter:{description:"Pay and sign for uploads with multiple tokens."}},{kind:"MdxPage",name:"tools",route:"/overview/tools",frontMatter:{description:"Get started building with Irys today."}}]},{kind:"MdxPage",name:"terminology",route:"/terminology",frontMatter:{title:"Terminology",description:"Technical terms to help you understand Irys"}}],flexsearch:{codeblocks:!0},title:"Create an ERC20 profit-sharing token for NFTs with UDL"},pageNextRoute:"/hands-on/tutorials/udl-erc20",nextraLayout:t.ZP,themeConfig:i.Z};n.default=(0,r.j)(c)}},function(e){e.O(0,[3331,9482,9774,2888,179],function(){return e(e.s=84669)}),_N_E=e.O()}]);