---
description: Create an app
---

import { Callout } from "nextra-theme-docs";

# Balance approvals

Balance approvals allow for the sharing of balances between multiple addresses. Use balance approvals to pay for your users' uploads while still allowing those users to sign the transactions themselves.

Balance approvals:

- Are based on the token set when connecting to an Irys node. Both approver and approvee must use the same
  token.
- Are registered instantly upon upload completion.
- Are non-transferable.
- Can be configured to expire automatically.

## Create an approval

```ts
const approvalReceipt = await irys.approval.createApproval({
	amount: irys.utils.toAtomic(1), // Amount in atomic units
	approvedAddress: "address",
	expiresInSeconds: 100, // Expires in 100 seconds. Delete to remove expiration.
});
```

## Upload using an approval

```ts
const approvedReceipt = await irys.upload("GM World", { upload: { paidBy: "payerAddress" } });
```

## Revoke an approval

```ts
const revocationReceipt = await irys.approval.revokeApproval({ approvedAddress: "address" });
```

## Get remaining approval balance & and expiration date

This is used by people who received an approval.
How much balance am I approved for by payingAddress.

```ts
const approvedBalance = await irys.approval.getApprovalFromCurrentAccount({
	payingAddress: "address",
});
```

This is used by people who issued an approval.
How much balance have I approved for approvedAddress.

```ts
const approvedBalance = await irys.approval.getApprovals({
	createdAddress: "address",
	receivedAddress: "address",
});
```

```ts
const approvedBalance = await irys.approval.getCreatedApprovals();
```

```json
{
	"addresss": "balance",
	"addresss": "balance",
	"addresss": "balance",
	"addresss": "balance"
}
```

```ts
const approvedBalance = await irys.approval.getReceivedApprovals();
```

```json
{
	"addresss": "balance",
	"addresss": "balance",
	"addresss": "balance",
	"addresss": "balance"
}
```

You can also request the same information from our HTTP endpoint:

Devnet:

```
https://arweave.devnet.irys.xyz/account/approval?payingAddress=<...>&token=<...>&approvedAddress=<...>
```

Mainnet:

```
https://arweave.mainnet.irys.xyz/account/approval?payingAddress=<...>&token=<...>&approvedAddress=<...>
```
